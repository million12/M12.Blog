{namespace ts=TYPO3\TypoScript\ViewHelpers}
{namespace neos=TYPO3\Neos\ViewHelpers}

<article class="blog-post" itemtype="http://schema.org/Article" itemscope="">
	<header>
		<h1 itemprop="name headline"><neos:contentElement.editable property="title">{title}</neos:contentElement.editable></h1>
		<f:render partial="Post/PostMeta" arguments="{post:node}" />
		<div class="blog-post-synopsis" itemprop="about">
			<div itemprop="description"><ts:render path="synopsis" /></div>
		</div>
	</header>

	<div class="articleBody" itemprop="articleBody">
		<ts:render path="main" />
	</div>

	<f:if condition="{settings.disqus.enabled}">
		<a name="comments"></a>
		<div class="disqusWrapper">
			<div id="disqus_thread"></div>
			<script type="text/javascript">
				/* * * CONFIGURATION VARIABLES * * */
				var disqus_shortname = '{settings.disqus.shortname}';
				var disqus_identifier = 'node-{nodeIdentifier}';
				var disqus_title = '{title}';
				var disqus_url = '{neos:uri.node(absolute:true)}';

				/* * * DON'T EDIT BELOW THIS LINE * * */
				(function() {
					var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
					dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
					(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
				})();
			</script>
		</div>
	</f:if>
</article>
